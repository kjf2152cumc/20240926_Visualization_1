---
title: "Visualization Lecture"
author: "Kaleb J. Frierson"
date: "2024-09-26"
output: 
  github_document: 
    toc: TRUE
---

# Lecture Notes

Exploratory data analysis can mean a lot of things. You're getting to know your data! Everything you have done after importing and tidying data up until you do official testing/analyses. 

Looking at data is critical. You will make dozens of graphics for each dataset. You will be the only person who views a lot of them. A small subset are for others, but visualizing your data is crucial throughout your work. 

ggplot makes good graphics with relative ease (compared to base R graphics). 
  gg = grammar of graphics. Conceptual framework for how you want to construct
  plots. Requires some learning about what that grammar is. But once you know 
  it, the infrastructure is the same. 

Learning ggplot: lots of online materials. Google is helpful! David Robinson: "Just discovered that I've visited this ggplot2 question 29 times in the last two years." 

Basic graph components: 
data, aesthetic mappings, geoms 

Advanced graph components: 
facets, scales, statistics

A graph is built by combining these components. Components are consistent across graph types!

# Coding

```{r setup, include = FALSE}
library(tidyverse)
library(ggridges)
```

```{r, warning=FALSE}
weather_df = 
  rnoaa::meteo_pull_monitors(
    c("USW00094728", "USW00022534", "USS0023B17S"),
    var = c("PRCP", "TMIN", "TMAX"), 
    date_min = "2021-01-01",
    date_max = "2022-12-31") |>
  mutate(
    name = case_match(
      id, 
      "USW00094728" ~ "CentralPark_NY", 
      "USW00022534" ~ "Molokai_HI",
      "USS0023B17S" ~ "Waterhole_WA"),
    tmin = tmin / 10,
    tmax = tmax / 10) |>
  select(name, id, everything())
```

```{r}
weather_df

```

Making first plot, note that unless you assign geometry you won't get data on the plot. 

```{r}
ggp_weather_scatterplot = 
  ggplot(weather_df, aes(x = tmin, y = tmax)) +
  geom_point()

ggp_weather_scatterplot

```
Alpha can change shading of points. Color by name adds a key. Geom smooth fits a smooth line and defaults with standard error which you can remove with SE = FALSE. 

```{r}
weather_df |> 
  ggplot(aes(x=tmin, y=tmax, color = name)) +
  geom_point(alpha = .3, size = .8) + 
  geom_smooth(se = FALSE)
```
Where you define aesthetics matters: 

```{r}
weather_df |> 
  ggplot(aes(x=tmin, y=tmax)) +
  geom_point(aes(color = name), alpha = .3, size = .8) + 
  geom_smooth(se = FALSE)
```

